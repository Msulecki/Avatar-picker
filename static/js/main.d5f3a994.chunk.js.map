{"version":3,"sources":["modules/Avatar.js","modules/App.js","index.js"],"names":["Avatar","props","useState","popover","setPopover","data","newavatar","setAvatar","popoverNode","useRef","avatarNode","popoverStyle","animation","handleAvatarChange","target","avatar","id","style","setTimeout","avatarList","map","tabIndex","key","onFocus","onClick","e","onKeyDown","keyCode","children","className","src","alt","label","initialAvatar","ref","avatarPopover","handlePopover","current","contains","useEffect","document","addEventListener","removeEventListener","App","ReactDOM","render","getElementById"],"mappings":"6SA+DeA,MA3Df,SAAgBC,GAAQ,IAAD,EACWC,oBAAS,GADpB,mBACZC,EADY,KACHC,EADG,OAEYF,mBAASD,EAAMI,KAAK,IAFhC,mBAEZC,EAFY,KAEDC,EAFC,KAGbC,EAAcC,mBACdC,EAAaD,mBACbE,EAAe,CACjBC,UAAU,GAAD,OAAKT,EAAU,uBAAyB,KAG/CU,EAAqB,SAACC,EAAQC,GAC5BT,EAAUU,KAAOD,EAAOC,KACxBF,EAAOG,MAAML,UAAY,8BACzBM,YAAW,WACPd,GAAW,GACXG,EAAUQ,GACVD,EAAOG,MAAML,UAAY,KAC1B,QAILO,EAAa,YAAIlB,EAAMI,MAAMe,KAAI,SAAAL,GAAM,OAAI,wBAC7CM,SAAU,EACVC,IAAKP,EAAOC,GACZO,QAAS,kBAAMnB,GAAW,IAC1BoB,QAAS,SAAAC,GAAC,OAAIZ,EAAmBY,EAAEX,OAAQC,IAC3CW,UAAW,SAAAD,GAAC,OAAkB,KAAdA,EAAEE,SAAkBd,EAAmBY,EAAEX,OAAOc,SAAS,GAAIb,IAC7Ec,UAAU,wBAAuB,yBAAKA,UAAU,uBAA2B,yBAAKC,IAAG,eAAUf,EAAOe,KAAOC,IAAKhB,EAAOiB,YAErHC,EAAgB,yBAAKC,IAAKxB,EAAYmB,UAAU,gBAClDR,SAAU,EACVG,QAAS,kBAAMpB,GAAYD,KAC9B,yBAAK0B,UAAU,WAAe,yBAAKC,IAAG,eAAUxB,EAAUwB,KAAOC,IAAKzB,EAAU0B,SAE3EG,EAAgB,yBAAKD,IAAK1B,EAAaqB,UAAU,kBAAkBZ,MAAON,GAC5E,yBAAKkB,UAAU,6BACf,kDACA,wBAAIA,UAAU,wBACTV,IAIHiB,EAAgB,SAAAX,IACjBjB,EAAY6B,QAAQC,SAASb,EAAEX,UAAYJ,EAAW2B,QAAQC,SAASb,EAAEX,SAAWV,GAAW,IAUpG,OAPAmC,qBAAU,WAEN,OADAC,SAASC,iBAAiB,YAAaL,GAChC,WACHI,SAASE,oBAAoB,YAAaN,MAE/C,IAGC,yBAAKP,UAAU,UACVI,EACAE,I,MCvCEQ,MAhBf,WASE,OACE,yBAAKd,UAAU,OACb,kBAAC,EAAD,CAAQxB,KAVC,CACX,CAAE,IAAO,cAAe,MAAS,WAAY,GAAM,GACnD,CAAE,IAAO,cAAe,MAAS,WAAY,GAAM,GACnD,CAAE,IAAO,cAAe,MAAS,WAAY,GAAM,GACnD,CAAE,IAAO,cAAe,MAAS,WAAY,GAAM,GACnD,CAAE,IAAO,cAAe,MAAS,WAAY,GAAM,GACnD,CAAE,IAAO,cAAe,MAAS,WAAY,GAAM,QCLvDuC,IAASC,OAAO,kBAAC,EAAD,MAASL,SAASM,eAAe,W","file":"static/js/main.d5f3a994.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport '../styles/Avatar.scss'\r\n\r\nfunction Avatar(props) {\r\n    const [popover, setPopover] = useState(false)\r\n    const [newavatar, setAvatar] = useState(props.data[0])\r\n    const popoverNode = useRef()\r\n    const avatarNode = useRef()\r\n    const popoverStyle = {\r\n        animation: `${popover ? 'popover .3s forwards' : ''}`\r\n    }\r\n\r\n    const handleAvatarChange = (target, avatar) => {\r\n        if (newavatar.id !== avatar.id) {\r\n            target.style.animation = 'fetching 1s linear infinite'\r\n            setTimeout(() => {\r\n                setPopover(false)\r\n                setAvatar(avatar)\r\n                target.style.animation = ''\r\n            }, 1500)\r\n        }\r\n    }\r\n\r\n    const avatarList = [...props.data].map(avatar => <li\r\n        tabIndex={0}\r\n        key={avatar.id}\r\n        onFocus={() => setPopover(true)}\r\n        onClick={e => handleAvatarChange(e.target, avatar)}\r\n        onKeyDown={e => e.keyCode === 13 && handleAvatarChange(e.target.children[0], avatar)}\r\n        className=\"avatar__popover-pick\"><div className=\"border border--big\"></div><img src={`/img/${avatar.src}`} alt={avatar.label} /></li>)\r\n\r\n    const initialAvatar = <div ref={avatarNode} className=\"avatar__image\"\r\n        tabIndex={0}\r\n        onClick={() => setPopover(!popover)}\r\n    ><div className='border'></div><img src={`/img/${newavatar.src}`} alt={newavatar.label} /></div>\r\n\r\n    const avatarPopover = <div ref={popoverNode} className=\"avatar__popover\" style={popoverStyle}>\r\n        <div className=\"avatar__popover-triangle\"></div>\r\n        <h5>Choose your avatar</h5>\r\n        <ul className=\"avatar__popover-list\">\r\n            {avatarList}\r\n        </ul>\r\n    </div>\r\n\r\n    const handlePopover = e => {\r\n        !popoverNode.current.contains(e.target) && !avatarNode.current.contains(e.target) && setPopover(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\", handlePopover);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handlePopover);\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"avatar\" >\r\n            {initialAvatar}\r\n            {avatarPopover}\r\n        </div>\r\n    )\r\n}\r\nexport default Avatar","import React from 'react';\nimport Avatar from './Avatar'\nimport '../styles/App.scss'\n\nfunction App() {\n  const data = [\n    { \"src\": \"avatar1.png\", \"label\": \"Avatar 1\", \"id\": 1 },\n    { \"src\": \"avatar2.png\", \"label\": \"Avatar 2\", \"id\": 2 },\n    { \"src\": \"avatar3.png\", \"label\": \"Avatar 3\", \"id\": 3 },\n    { \"src\": \"avatar4.png\", \"label\": \"Avatar 4\", \"id\": 4 },\n    { \"src\": \"avatar5.png\", \"label\": \"Avatar 5\", \"id\": 5 },\n    { \"src\": \"avatar6.png\", \"label\": \"Avatar 6\", \"id\": 6 }\n  ]\n  return (\n    <div className=\"app\">\n      <Avatar data={data} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './modules/App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}